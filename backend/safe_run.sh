#!/bin/bash

# --- Конфигурация ---
# Определяем хост и порт в переменных для удобства
HOST="0.0.0.0"
PORT="8000"

# --- Логика скрипта ---

# 1. Освобождаем порт
#    Находим и завершаем любой процесс, который уже использует порт ${PORT}.
#    Это предотвращает ошибку "Port already in use".
echo "Освобождаем порт ${PORT}..."
fuser -k "${PORT}/tcp" 2>/dev/null

# 2. Запускаем сервер
#    Запускаем Django-сервер на хосте ${HOST}, чтобы он был доступен
#    всей локальной сети, а не только с этого компьютера.
echo "Запускаем Django-сервер на http://${HOST}:${PORT}"
python manage.py runserver "${HOST}:${PORT}"